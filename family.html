<!DOCTYPE html>
<html>
<head>
    <title>My Family</title>
</head>
<body>
    <h1>My Family</h1>
    <div>
        <a href="home.html">&larr; In home</a>
        <div>
            <h3>Publish news in my family:</h3>
            <textarea id="newsInput" placeholder="Write something..."></textarea>
            <button onclick="publishNews()">Publish</button>
        </div>
        <div>
            <h3>We news:</h3>
            <div id="familyNewsFeed"></div>
        </div>
        <button onclick="location.href='addmen.html'">Add User</button>
    </div>

    <script>
        function getFamily() {
            return localStorage.getItem('family') || 'MyFamily';
        }

        function publishNews() {
            const newsInput = document.getElementById('newsInput');
            const news = newsInput.value;
            const family = getFamily();

            const newsFeed = JSON.parse(localStorage.getItem('newsFeed')) || [];
            newsFeed.push({ family, text: news });
            localStorage.setItem('newsFeed', JSON.stringify(newsFeed));

            newsInput.value = '';
            displayFamilyNews();
        }

        function displayFamilyNews() {
            const familyNewsFeed = document.getElementById('familyNewsFeed');
            familyNewsFeed.innerHTML = '';
            const family = getFamily();
            const newsFeed = JSON.parse(localStorage.getItem('newsFeed')) || [];

            newsFeed.forEach(news => {
                if (news.family === family) {
                    const newsItem = document.createElement('div');
                    newsItem.textContent = news.text;
                    familyNewsFeed.appendChild(newsItem);
                }
            });
        }

        window.onload = function() {
            displayFamilyNews();
        }
    </script>
</body>
</html>

